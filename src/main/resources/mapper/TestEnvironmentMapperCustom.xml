<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.dieson.green.dao.TestEnvironmentMapperCustom">
	<resultMap id="EnvironmentResultMap"
		type="com.dieson.green.pojo.TestEnvironment">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 24 
			15:21:08 CST 2018. -->
		<id column="id" jdbcType="INTEGER" property="id" />
		<result column="make_user" jdbcType="INTEGER"
			property="makeUser" />
		<result column="url" jdbcType="VARCHAR" property="url" />
		<result column="status" jdbcType="BIT" property="status" />
		<result column="desc" jdbcType="VARCHAR" property="desc" />
		<result column="database" jdbcType="VARCHAR"
			property="database" />
		<result column="database_password" jdbcType="VARCHAR"
			property="databasePassword" />
		<result column="database_user" jdbcType="VARCHAR"
			property="databaseUser" />
		<result column="db_host" jdbcType="VARCHAR" property="dbHost" />
		<result column="db_port" jdbcType="VARCHAR" property="dbPort" />
	</resultMap>

	<resultMap id="EnvironmentAndUser"
		type="com.dieson.green.entiy.TestEnvironmentCustom"
		extends="EnvironmentResultMap">
		<association property="user"
			javaType="com.dieson.green.pojo.User">
			<id property="id" column="project_id" />
			<result property="username" column="username" />
			<result property="userEmail" column="user_email" />
			<result property="status" column="status" />
		</association>
	</resultMap>

	<sql id="Base_Column_List">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 24 
			15:21:08 CST 2018. -->
		id, make_user, url, status, desc, database, database_password,
		database_user, db_host,
		db_port
	</sql>

	<select id="selectEnvironmentUser"
		resultMap="EnvironmentAndUser">
		SELECT
		test_environment.*,`user`.id
		user_id,`user`.username,`user`.user_email,`user`.`status` user_staus
		FROM test_environment,`user` WHERE
		test_environment.make_user=`user`.id
	</select>

</mapper>